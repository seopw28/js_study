# Day 004: 드롭다운 메뉴와 플레이스홀더

## 📚 오늘 배울 내용

- 화면 중앙에 드롭다운 메뉴 배치하기
- 플레이스홀더(Placeholder) 구현하기
- 드롭다운 목록에서 플레이스홀더 숨기기
- 선택된 값에 따라 색상 변경하기

---

## 1️⃣ HTML 구조

### 기본 구조
```html
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>APP Name</title>
    <link rel="stylesheet" href="../colors.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="dropdown-container">
        <select id="dropdown" class="dropdown" required>
            <option value="" disabled selected>직업을 선택하세요</option>
            <option value="warrior" class="selectable-option">전사</option>
            <option value="mage" class="selectable-option">법사</option>
            <option value="rogue" class="selectable-option">도적</option>
        </select>
    </div>
    <script src="script.js"></script>
</body>
</html>
```

### 핵심 요소 설명

#### 드롭다운 컨테이너
```html
<div class="dropdown-container">
```
- 드롭다운을 감싸는 컨테이너
- CSS로 화면 중앙에 배치하기 위해 사용

#### Select 요소 (드롭다운)
```html
<select id="dropdown" class="dropdown" required>
```
- `<select>`: 드롭다운 메뉴를 만드는 HTML 요소
- `id="dropdown"`: JavaScript에서 이 요소를 선택하기 위한 고유 식별자
- `class="dropdown"`: CSS 스타일을 적용하기 위한 클래스
- `required`: 필수 입력 속성으로, 빈 값 선택 시 invalid 상태가 됨

**required 속성의 역할:**
- 빈 값이 선택되면 `:invalid` 상태가 되어 CSS로 스타일 제어 가능
- 플레이스홀더가 선택된 상태와 실제 값을 구분할 수 있게 해줌

#### 플레이스홀더 옵션
```html
<option value="" disabled selected>직업을 선택하세요</option>
```
- `value=""`: 빈 값으로 설정하여 실제 선택값이 아님을 표시
- `disabled`: 이 옵션을 선택할 수 없도록 비활성화
- `selected`: 페이지가 처음 로드될 때 이 옵션이 선택된 상태로 표시

**플레이스홀더란?**
- 사용자에게 무엇을 선택해야 하는지 안내하는 힌트 텍스트
- 실제 선택 가능한 값이 아닌 안내 메시지
- 드롭다운 목록을 열었을 때는 보이지 않고, 선택 전 초기 상태에서만 보임

#### 선택 가능한 옵션들
```html
<option value="warrior" class="selectable-option">전사</option>
<option value="mage" class="selectable-option">법사</option>
<option value="rogue" class="selectable-option">도적</option>
```
- `value="warrior"`: 이 옵션을 선택했을 때 전달되는 실제 값
- `class="selectable-option"`: CSS로 선택 가능한 옵션의 색상을 제어하기 위한 클래스
- 표시되는 텍스트: 사용자에게 보이는 실제 옵션 이름

**특징:**
- 사용자가 실제로 선택할 수 있는 옵션들
- 드롭다운 목록을 열면 이 옵션들만 표시됨
- 플레이스홀더는 목록에 나타나지 않음

---

## 2️⃣ CSS 스타일

### body 스타일 (화면 중앙 정렬)
```css
body {
    margin: 0;
    padding: 0;
    background-color: var(--bg-gray);
    font-family: 'Calibri', Arial, sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
}
```

**핵심 개념:**
- `display: flex`: flexbox 레이아웃 사용
- `justify-content: center`: 가로 방향 중앙 정렬
- `align-items: center`: 세로 방향 중앙 정렬
- `min-height: 100vh`: 화면 전체 높이 사용

**결과:** 드롭다운이 화면 정중앙에 배치됨

### 드롭다운 컨테이너 스타일
```css
.dropdown-container {
    display: flex;
    justify-content: center;
    align-items: center;
}
```

**핵심 개념:**
- 컨테이너 자체도 flexbox로 설정하여 내부 요소 중앙 정렬
- body와 중복이지만 명확성을 위해 유지

### 드롭다운 기본 스타일
```css
.dropdown {
    padding: 12px 20px;
    font-size: 14px;
    font-family: 'Calibri', Arial, sans-serif;
    border: 2px solid #ccc;
    border-radius: 5px;
    background-color: white;
    cursor: pointer;
    min-width: 250px;
    height: 55px;
    color: #000;
}
```

**각 속성 설명:**
- `padding: 12px 20px`: 내부 여백 (위아래 12px, 좌우 20px)
- `font-size: 14px`: 텍스트 크기
- `border: 2px solid #ccc`: 회색 테두리 (2px 두께)
- `border-radius: 5px`: 모서리를 둥글게 처리
- `background-color: white`: 배경색 흰색
- `cursor: pointer`: 마우스 오버 시 손가락 모양 커서
- `min-width: 250px`: 최소 너비 250px
- `height: 55px`: 높이 55px로 고정
- `color: #000`: 기본 텍스트 색상 검은색

### 호버 효과 (마우스 오버 시)
```css
.dropdown:hover {
    border-color: #007bff;
}
```

**핵심 개념:**
- `:hover`: 마우스를 올렸을 때 적용되는 가상 클래스
- `border-color: #007bff`: 테두리 색상을 파란색으로 변경
- 사용자에게 상호작용 가능함을 시각적으로 표시

### 포커스 효과 (클릭/선택 시)
```css
.dropdown:focus {
    outline: none;
    border-color: #007bff;
}
```

**핵심 개념:**
- `:focus`: 드롭다운이 선택되었을 때 적용되는 가상 클래스
- `outline: none`: 브라우저 기본 포커스 아웃라인 제거
- `border-color: #007bff`: 테두리를 파란색으로 변경하여 포커스 상태 표시

### 플레이스홀더 스타일 (회색 텍스트)
```css
.dropdown:invalid {
    color: #999;
}
```

**핵심 개념:**
- `:invalid`: required 속성이 있고 빈 값이 선택된 상태 (invalid 상태)
- `color: #999`: 텍스트를 연한 회색으로 표시
- 플레이스홀더가 선택된 상태일 때만 적용됨

**동작 원리:**
1. `required` 속성이 있으면 빈 값 선택 시 invalid 상태
2. `value=""`인 플레이스홀더가 선택되면 invalid 상태
3. 실제 값(warrior, mage, rogue)이 선택되면 valid 상태가 되어 기본 색상(검은색) 표시

### 선택 가능한 옵션 색상
```css
.dropdown option:not(:disabled),
.dropdown option.selectable-option {
    color: #000 !important;
}
```

**핵심 개념:**
- `option:not(:disabled)`: disabled가 아닌 옵션들 (선택 가능한 옵션)
- `option.selectable-option`: selectable-option 클래스를 가진 옵션들
- `color: #000`: 검은색 텍스트
- `!important`: 다른 스타일보다 우선 적용 (강제 적용)

**왜 !important가 필요한가?**
- 일부 브라우저에서 option 요소의 색상이 제대로 적용되지 않을 수 있음
- `!important`로 확실하게 검은색을 적용

### 플레이스홀더 옵션 숨김
```css
.dropdown option:disabled {
    display: none;
}
```

**핵심 개념:**
- `option:disabled`: disabled 속성을 가진 옵션
- `display: none`: 완전히 숨김 처리
- 드롭다운 목록을 열었을 때 플레이스홀더가 보이지 않게 함

---

## 3️⃣ JavaScript 기능

### 드롭다운 요소 선택
```javascript
const dropdown = document.getElementById('dropdown');
const disabledOption = dropdown.querySelector('option[disabled]');
```

**핵심 개념:**
- `document.getElementById('dropdown')`: id가 'dropdown'인 요소 선택
- `querySelector('option[disabled]')`: disabled 속성을 가진 option 요소 찾기
- 변수에 저장하여 나중에 재사용

### 드롭다운 열기 시 플레이스홀더 숨김
```javascript
dropdown.addEventListener('mousedown', function() {
    if (disabledOption) {
        disabledOption.hidden = true;
    }
});
```

**핵심 개념:**
- `addEventListener('mousedown')`: 마우스 버튼을 누를 때 발생하는 이벤트
- `hidden = true`: HTML의 hidden 속성을 true로 설정하여 요소 숨김
- CSS의 `display: none`과 유사하지만 HTML 속성으로 제어

**동작 원리:**
1. 사용자가 드롭다운을 클릭하면 mousedown 이벤트 발생
2. 플레이스홀더 옵션에 hidden 속성 추가
3. 드롭다운 목록이 열릴 때 플레이스홀더가 보이지 않음

**왜 두 가지 방법(CSS + JavaScript)을 사용하나?**
- CSS만으로는 모든 브라우저에서 작동하지 않을 수 있음
- JavaScript로 보완하여 더 확실하게 숨김 처리

### 선택된 값에 따른 색상 변경
```javascript
dropdown.addEventListener('change', function() {
    if (dropdown.value === '') {
        dropdown.style.color = '#999';
    } else {
        dropdown.style.color = '#000';
    }
});
```

**핵심 개념:**
- `addEventListener('change')`: 선택된 값이 변경될 때 발생하는 이벤트
- `dropdown.value`: 현재 선택된 option의 value 값
- `dropdown.style.color`: 인라인 스타일로 색상 직접 변경

**동작 원리:**
1. 사용자가 옵션을 선택하면 change 이벤트 발생
2. 선택된 값이 빈 문자열(`''`)이면 → 회색 텍스트
3. 실제 값(warrior, mage, rogue)이 선택되면 → 검은색 텍스트

**CSS의 :invalid와의 차이:**
- CSS는 자동으로 invalid 상태를 감지
- JavaScript는 명시적으로 값에 따라 색상 변경
- 두 가지 방법을 함께 사용하여 더 확실하게 동작

---

## 🔄 동작 원리

### 1. 초기 상태 (페이지 로드 시)
- 플레이스홀더 "직업을 선택하세요"가 선택된 상태로 표시
- 텍스트 색상: 회색 (#999)
- required 속성으로 인해 invalid 상태

### 2. 드롭다운 클릭 시
- mousedown 이벤트 발생
- 플레이스홀더 옵션에 hidden 속성 추가
- 드롭다운 목록이 열림
- 목록에는 전사, 법사, 도적만 표시됨

### 3. 옵션 선택 시
- change 이벤트 발생
- 선택된 값 확인
- 실제 값이 선택되면 텍스트 색상이 검은색으로 변경
- 플레이스홀더는 여전히 숨겨진 상태 유지

### 4. 시각적 피드백
- 호버 시: 테두리 색상이 파란색으로 변경
- 포커스 시: 테두리가 파란색으로 강조
- 선택 후: 텍스트가 검은색으로 변경되어 선택 완료 표시

---

## ✅ 핵심 정리

### HTML
- `<select>`: 드롭다운 메뉴 생성
- `<option>`: 각 선택 옵션
- `required`: 빈 값 선택 시 invalid 상태로 만들어 CSS 제어 가능
- `disabled`: 선택 불가능한 옵션 (플레이스홀더)
- `selected`: 초기 선택 상태

### CSS
- `display: flex` + `justify-content: center` + `align-items: center`: 중앙 정렬
- `:invalid`: 빈 값이 선택된 상태 (플레이스홀더)
- `:hover`: 마우스 오버 효과
- `:focus`: 포커스 상태 스타일
- `option:disabled { display: none }`: 플레이스홀더 옵션 숨김

### JavaScript
- `addEventListener('mousedown')`: 드롭다운 열기 시 플레이스홀더 숨김
- `addEventListener('change')`: 선택된 값에 따라 색상 변경
- `hidden` 속성: HTML 요소 숨김 처리

---

## 🎯 플레이스홀더의 역할

### 플레이스홀더란?
사용자에게 무엇을 선택해야 하는지 안내하는 힌트 텍스트입니다.

### 플레이스홀더의 특징
1. **초기 상태 표시**: 페이지가 로드될 때 보임
2. **선택 불가능**: disabled 속성으로 실제 선택할 수 없음
3. **목록에서 숨김**: 드롭다운을 열었을 때 목록에 나타나지 않음
4. **시각적 구분**: 회색 텍스트로 실제 선택값과 구분

### 플레이스홀더 구현 방법
```html
<!-- 방법 1: disabled + selected 사용 (현재 방식) -->
<option value="" disabled selected>직업을 선택하세요</option>

<!-- 방법 2: placeholder 속성 (일부 브라우저만 지원) -->
<select placeholder="직업을 선택하세요">
```

**현재 방식의 장점:**
- 모든 브라우저에서 작동
- CSS와 JavaScript로 완전히 제어 가능
- 선택 불가능하도록 확실히 보장

---

## 💡 추가 학습

### 드롭다운 스타일링 팁
```css
/* 커스텀 화살표 아이콘 추가 */
.dropdown {
    appearance: none; /* 기본 화살표 제거 */
    background-image: url('arrow.png'); /* 커스텀 화살표 */
    background-position: right 10px center;
    background-repeat: no-repeat;
}

/* 옵션 그룹 만들기 */
<optgroup label="전투 직업">
    <option value="warrior">전사</option>
    <option value="mage">법사</option>
</optgroup>
```

### JavaScript로 동적 옵션 추가
```javascript
// 옵션 동적으로 추가하기
const newOption = document.createElement('option');
newOption.value = 'archer';
newOption.textContent = '궁수';
dropdown.appendChild(newOption);
```

### 다중 선택 드롭다운
```html
<!-- multiple 속성 추가 -->
<select multiple>
    <option value="warrior">전사</option>
    <option value="mage">법사</option>
</select>
```

---

## 📝 현재 구현 특징

### 장점
- **명확한 안내**: 플레이스홀더로 사용자에게 선택 안내
- **깔끔한 UI**: 목록에서 플레이스홀더가 숨겨져 깔끔함
- **시각적 피드백**: 호버, 포커스, 선택 상태 모두 시각적으로 표시
- **색상 구분**: 플레이스홀더는 회색, 실제 값은 검은색으로 구분

### 선택 가능한 개선사항
- 선택된 값에 따라 다른 동작 추가 (예: 직업별 이미지 표시)
- 애니메이션 효과 추가 (드롭다운 열림/닫힘)
- 키보드 네비게이션 개선
- 검색 기능 추가 (옵션이 많을 때)

---

## 🔍 문제 해결 가이드

### 문제: 플레이스홀더가 목록에 나타남
**해결 방법:**
- CSS: `option:disabled { display: none; }` 확인
- JavaScript: `hidden` 속성 추가 확인

### 문제: 선택 가능한 옵션이 회색으로 표시됨
**해결 방법:**
- CSS: `option:not(:disabled) { color: #000 !important; }` 확인
- JavaScript: change 이벤트에서 색상 변경 확인

### 문제: 플레이스홀더가 회색이 아님
**해결 방법:**
- CSS: `.dropdown:invalid { color: #999; }` 확인
- HTML: `required` 속성 확인
- HTML: 플레이스홀더 옵션의 `value=""` 확인
